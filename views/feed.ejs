<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Feed</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/compiled.css">
</head>
<body>
    <header class="bg-white p-3 px-10 shadow sm:block">
        <nav class="w-full flex-row sm:flex sm:justify-between">
            <img class="w-40" src="images/h-logo.svg" alt="knitly logo">
            <ul class="w-full pt-5 sm:py-0 justify-between sm:w-2/5 lg:w-1/4 flex sm:items-center sm:justify-between">
                <li class="cursor-pointer hover:text-indigo-400"><a href="/feed/newPost">Post your Project!</a></li>
                <li class="cursor-pointer hover:text-indigo-400"><a href="/feed/profile">Profile</a></li>
                <li class="cursor-pointer hover:text-indigo-400"><a href="/logout" method="POST">(log out)</a></li>
            </ul>
        </nav>
    </header>
    <!-- <h1 class="flex justify-between text-center p-5">Here's your User Feed </h1> -->
    <main class="grid grid-cols-1 gap-6 m-5 sm:grid-cols-2 lg:grid-cols-3 ">

        <% for(let i=0;i<posts.length; i++){ %>
            <section class="grid border-2 p-5 rounded-xl bg-white bg-opacity-100 text-md">
                <h1 class="py-3 font-semibold"><%= posts[i].title %></h1>
                <img class="py-3 object-fill" src="<%= posts[i].image %>" alt="knitting photo">
                <p class="py-5 break-word"><%= posts[i].description %></p>
                <p class=""><%= posts[i].userName %></p>
                <div class="align-end">
                    <form action="/feed/addLike/<%= posts[i].id %>" method="POST">
                        <button class="cursor-pointer opacity-50 hover:opacity-100" type="submit">❤</button>
                    </form>
                    <span><%= posts[i].likes %> Likes</span>
                    <% if(posts[i].user == user.id){%>
                        <form action="/feed/deletePost/<%= posts[i].id %>" method="POST">
                            <button class="cursor-pointer text-gray-400 hover:text-red-400 float-right" type="submit">(delete post)</button>
                        </form>
                    <% } %>
                </div>
                
            </section>
        <% } %>

        <!-- plan is for ejs to generate one of these sections per post in db-->
        <section class="grid border-2 p-5 rounded-xl bg-white bg-opacity-100 text-md">
            <h1 class="py-3 font-semibold">Sample post</h1>
            <img class="py-3 object-fill" src="https://images.unsplash.com/photo-1486129273931-27820249c615?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1950&q=80" alt="knitting photo">
            <p class="py-5 break-word">Here's a description of the content of the post</p>
            <div class="align-end">
                <span class="cursor-pointer opacity-50 hover:opacity-100">❤</span>
                <span>1 Likes</span>
                <span class="cursor-pointer text-gray-400 hover:text-red-400 float-right">(delete post)</span>
            </div>
        </section>

        <section class="border-2 p-5 rounded-xl bg-white bg-opacity-100 text-md">
            <h1 class="py-3 block font-semibold">Sample post</h1>
            <img class="py-3 block object-fill"
                src="https://images.unsplash.com/photo-1544967919-44c1ef2f9e7a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1336&q=80"
                alt="knitting photo">
            <p class="py-5 block break-word">Here's a description of the content of the post</p>
            <div class="align-end">
                <span class="cursor-pointer opacity-50 hover:opacity-100">❤</span>
                <span>1 Likes</span>
                <span class="cursor-pointer text-gray-400 hover:text-red-400 float-right">(delete post)</span>
            </div>
        </section>

        <section class="border-2 p-5 rounded-xl bg-white bg-opacity-100 text-md">
            <h1 class="py-3 block font-semibold">Sample post</h1>
            <img class="py-3 block object-fill"
                src="https://images.unsplash.com/photo-1553585989-ad5836379734?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1778&q=80"
                alt="knitting photo">
            <p class="py-5 block break-word">Here's a description of the content of the post </p>
            <div class="align-end">
                <span class="cursor-pointer opacity-50 hover:opacity-100">❤</span>
                <span>1 Likes</span>
                <span class="cursor-pointer text-gray-400 hover:text-red-400 float-right">(delete post)</span>
            </div>
        </section>

    </main>
</body>
</html>